# GitHub Copilot コーディング規約設定

## 基本規則

### 命名規則

- **キャメルケースに統一**
  - JavaScript/TypeScript: 変数、関数、メソッド名はキャメルケース
  - HTML: クラス名はケバブケース、id名はスネークケース
  - ケバブ式⇔スネーク式変換時は、ハイフンとアンダースコアの変換のみ

### インポート規則

- **静的インポートを優先使用**
  - 動的インポート（import()）は使用しない
  - すべてのモジュールはファイルの先頭で静的にインポート
  - 条件付きインポートが必要な場合は、事前にすべてインポートして条件で使い分け

```javascript
// Good - 静的インポート
import React from 'react';
import { useState, useEffect } from 'react';
import ComponentA from './ComponentA';
import ComponentB from './ComponentB';

// Bad - 動的インポート
const ComponentA = await import('./ComponentA');
```

### if文の記述

- **if文は短縮しない** → else end の形にする
- 三項演算子は使用せず、明確なif-else文を使用

```javascript
// Good
if (condition) {
  // 処理
} else {
  // 処理
}

// Bad
const result = condition ? value1 : value2;
```

### try-catch規則

- **エラーの種類を記載** (SyntaxError, TypeError等)
- **必須でtry-catchする場所:**
  - 外部リソースへのアクセス (API通信、接続処理)
  - ユーザー入力の処理
  - 非同期処理
  - JSON解析
  - ファイル操作

```javascript
try {
  const data = JSON.parse(jsonString);
} catch (SyntaxError) {
  console.error('JSON解析エラー:', error);
}
```

### null・undefined チェック

- **null じゃない場合 かつ undefined でない場合に処理を行う**

```javascript
if (value !== null && value !== undefined) {
  // 処理
} else {
  // null または undefined の場合
}
```

## コメント規約

### JSDoc

- **関数の前に必須記載**
- **必須項目:**
  - @description: 関数の説明
  - @param: 引数の説明
  - @returns: 戻り値の説明
  - @author: nagasawa
  - @date: 編集日付

```javascript
/**
 * @description カンバンボードのメインコンポーネント
 * @param {object} props - コンポーネントのプロパティ
 * @param {string} props.pluginId - プラグインID
 * @param {number} props.appId - アプリID
 * @returns {JSX.Element} Reactコンポーネント
 * @author nagasawa
 * @date 2025-06-09
 */
```

### その他のコメント

- **変数名の説明を宣言時に記載**
- **分岐の条件について記載**
  - if文: 「〇〇の場合」
  - else文: 「〇〇の場合」
  - try-catch: エラーの種類を記載

```javascript
// カンバン状態の復元フラグを管理（useRefを使用して安定性を確保）
const kanbanStateRestored = React.useRef(false);

if (kanbanState) {
  // カンバン状態が存在する場合
} else {
  // カンバン状態が存在しない場合
}
```

## 文字列の引用符規則

- **JavaScript**: シングルクォート（'）を使用
- **HTML**: ダブルクォート（"）を使用

```javascript
// JavaScript
const message = 'こんにちは';
const className = 'ec5012-kanban-container';

// HTML
<div class="ec5012-kanban-container" id="main_container">
```

## React・Redux規約

- **desktop側でも必ずReact, Reduxを使用**
- 状態管理はRedux Toolkitを使用
- フックスは適切に使用

## CSS規約（基本推奨）

- **基本方針**: 外部CSSファイルでの管理を推奨
- **例外許可**: 効率性や必要性がある場合はインラインスタイルやCSS-in-JSライブラリも使用可
- **推奨構成**:
  - **config側**: `src/css/config/ComponentName.css`
  - **desktop側**: `src/css/desktop/ComponentName.css`
  - **ユーティリティ**: `src/css/utilities/utility-name.css`
- **CSSファイル名**: コンポーネント名と一致させることを推奨
- **CSSクラス名**: ケバブケース + BEM記法を推奨

### 使用優先順位

1. **第1優先**: 外部CSSファイル（推奨）
2. **第2優先**: CSS-in-JSライブラリ（styled-components等）
3. **第3優先**: インラインスタイル（簡単な調整等）

### CSS使用例

```javascript
// 推奨: 外部CSSファイル
import './../../css/desktop/KanbanCard.css';

const KanbanCard = () => {
  return <div className='kanban-card'>Content</div>;
};

// 許可: 効率的な場合のインラインスタイル
const DynamicComponent = ({ color }) => {
  return <div style={{ backgroundColor: color }}>Content</div>;
};
```

## フォルダ構成規約

- **各フォルダには必ずindexファイルを作成**
- index.jsまたはindex.cssでエクスポートを管理

## GitHub Copilot使用時の注意点

- 上記規約に従ったコードを生成してください
- JSDocコメントは必ず含めてください
- エラーハンドリングは適切に実装してください
- 命名規則を厳密に守ってください
- **静的インポートのみを使用し、動的インポートは避けてください**
- **CSS管理**: 基本的には外部CSSファイルを推奨するが、効率性を重視して必要に応じてインラインスタイルやライブラリも活用する
- **ライブラリ活用**: 開発効率を高めるライブラリの積極的な使用を推奨
